<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formularios</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <script defer src="js/bootstrap.bundle.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <p class="display-5 py-3 fw-normal">Registro de usuario</p>
      </header>
      <main>
        <form class="row g-3 needs-validation" novalidate>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label id="full_name_label" for="full_name">Nombre completo *</label>
            <input
              id="full_name"
              name="full_name"
              type="text"
              class="form-control mt-2"
              required
              minlength="3"
            />
            <div class="invalid-feedback">
              Por favor ingresa al menos 3 carácteres.
            </div>
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label id="email_label" for="email">Email *</label>
            <input
              id="email"
              name="email"
              type="email"
              class="form-control mt-2"
              required
            />
            <div class="invalid-feedback">
              Introduce una dirección de correo válida.
            </div>
          </div>

          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label id="password_label" for="pass">Contraseña *</label>
            <input
              id="pass"
              name="password"
              type="password"
              class="form-control mt-2"
              required
              minlength="8"
            />
            <div class="invalid-feedback">
              Debe tener al menos 8 carácteres.
            </div>
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label id="password2_label" for="pass2"
              >Confirmar contraseña *</label
            >
            <input
              id="pass2"
              name="password"
              type="password"
              class="form-control mt-2"
              required
            />
            <div class="invalid-feedback">Las contraseñas deben coincidir.</div>
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label for="age">Edad *</label>
            <input
              type="number"
              name="age"
              id="age"
              class="form-control mt-2"
              required
              min="18"
              max="120"
            />
            <div class="invalid-feedback">Debes tener entre 18 y 120 años.</div>
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label for="date">Fecha de nacimiento *</label>
            <input
              type="date"
              name="date"
              id="date"
              class="form-control mt-2"
              required
            />
            <div class="invalid-feedback">
              Selecciona tu fecha de nacimiento.
            </div>
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label id="phone_label" for="phone">Teléfono</label>
            <input
              id="phone"
              name="phone"
              type="tel"
              class="form-control mt-2"
              pattern="^(6|7)[0-9]{8}$"
            />
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label for="url">Sitio web</label>
            <input type="url" name="url" id="url" class="form-control mt-2" />
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label for="color">Color favorito</label>
            <input
              type="color"
              name="color"
              id="color"
              class="form-control form-control-color mt-2"
            />
          </div>
          <fieldset id="genderGroup" class="mb-3 col-12 col-sm-12 col-md-4">
            <label class="form-label">Género *</label>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="gender"
                id="generoHombre"
                value="Hombre"
                required
              />
              <label class="form-check-label" for="generoHombre">Hombre</label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="gender"
                id="generoMujer"
                value="Mujer"
                required
              />
              <label class="form-check-label" for="generoMujer">Mujer</label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="gender"
                id="generoOtro"
                value="Otro"
                required
              />
              <label class="form-check-label" for="generoOtro">Otro</label>
              <div class="invalid-feedback mx-0">Selecciona una opción.</div>
            </div>
          </fieldset>
          <fieldset id="hobbyGroup" class="mb-3 col-12 col-sm-12 col-md-4">
            <label class="form-label">Hobbies *</label>
            <div class="form-check">
              <input
                class="form-check-input hobby-checkbox hobby"
                type="checkbox"
                id="hobbyLectura"
                value="Lectura"
                required
              />
              <label class="form-check-label" for="hobbyLectura">Lectura</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input hobby-checkbox hobby"
                type="checkbox"
                id="hobbyDeporte"
                value="Deporte"
                required
              />
              <label class="form-check-label" for="hobbyDeporte">Deporte</label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input hobby-checkbox hobby"
                type="checkbox"
                id="hobbyMusica"
                value="Música"
                required
              />
              <label class="form-check-label" for="hobbyMusica">Música</label>
              <div class="invalid-feedback">Marca al menos un hobby.</div>
            </div>
          </fieldset>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label for="selectCountry">País *</label>
            <select
              id="selectCountry"
              name="country"
              class="form-select mt-2"
              aria-label="selectCountry"
              required
            >
              <option value="" selected disabled hidden>
                Selecciona tu país
              </option>
              <option value="1">España</option>
              <option value="2">Japón</option>
              <option value="3">Estados Unidos</option>
              <option value="4">Australia</option>
            </select>
            <div class="invalid-feedback">Elige un país.</div>
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-12">
            <label for="biografia" class="form-label">Biografía</label>
            <textarea
              class="form-control"
              id="biografia"
              rows="3"
              maxlength="500"
            ></textarea>
            <label for="biografia" class="text-muted">Máx. 500 carateres.</label>
          </div>
          <div class="mb-3 col-12 col-sm-12 col-md-4">
            <label for="salary" class="form-label">
              Salario aspiracional:
            </label>
            <input
              type="range"
              class="form-range"
              min="1000"
              max="10000"
              step="500"
              id="salary"
            />
            <div class="d-flex justify-content-between mb-3 text-muted">
              <small>1000 €</small>
              <small>10000 €</small>
            </div>
          </div>
            <div class="mb-3 col-12 col-sm-12 col-md-4">
              <label for="cv">CV (PDF) *</label>
              <input
                type="file"
                class="form-control mt-2"
                id="cv"
                aria-label="file example"
                required
                accept=".pdf"
              />
              <div class="invalid-feedback">Sube tu CV en formato PDF.</div>
            </div>
            <div class="mb-3 col-12 col-sm-12 col-md-12">
              <button class="btn btn-primary mt-2" type="submit">Enviar</button>
            </div>
          </div>
        </form>
      </main>
      <footer></footer>
    </div>
    <!-- Script de validación de Bootstrap con modificaciones de Olga, no tocar salvo los ids-->
    <script>
      (() => {
        "use strict";
        const forms = document.querySelectorAll(".needs-validation");
        Array.from(forms).forEach((form) => {
          form.addEventListener(
            "submit",
            (event) => {
              // Validar hobbies manualmente
              const checkboxes = form.querySelectorAll(".hobby:checked"); //id de los hobbies
              if (checkboxes.length === 0) {
                event.preventDefault();
                event.stopPropagation();
                form
                  .querySelector(".hobby")
                  .closest("fieldset")
                  .classList.add("is-invalid");
              }
              if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
              }
              // Validar coincidencia de contraseñas
              const pass = form.querySelector("#pass").value; // id contraseña 1
              const pass2 = form.querySelector("#pass2").value; // id contraseña 2
              if (pass !== pass2) {
                event.preventDefault();
                event.stopPropagation();
                form.querySelector("#pass2").classList.add("is-invalid");
              }
              form.classList.add("was-validated");
            },
            false
          );
        });
      })();
    </script>
  </body>
</html>
